{# src/CoreBundle/Resources/views/Front/observation.html.twig #}

{% extends "CoreBundle::layout.html.twig" %}

{% block title %}
	Observation - {{ parent() }}
{% endblock %}

{% block titlepage %}
	<h2>Ajouter une observation</h2>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
{% endblock %}




{% block core_body %}
	<div class="divider-info ptb column-style">
		<div class="row">

			<div class="col-sm-6" style="">
				{{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}

				{# Les erreurs générales du formulaire. #}
				{{ form_errors(form) }}
				<div class="sub-title">
				    <span>Quel oiseau ?</span>
				</div>
				<p>Veuillez saisir le nom de l'espèce que vous recherchez ci-dessous</p>
				{{ form_label(form.espece, "Nom de l'espèce : ", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}
			    <div id="nomVern">
			      {{ form_widget(form.espece)}}
			    </div>
			    <p>Vous avez un doute ? <a href="">Vérifier que c'est la bonne espèce</a></p><hr><br />

			    <div class="sub-title">
				    <span>Quand ?</span>
				</div>

				<div id="dateObs">
					{{ form_label(form.date, "Date : ", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}
					{{ form_errors(form.date) }}

					<div class="col-sm-5">
						{{ form_widget(form.date, {'attr': {'class': 'form-control'}}) }}
					</div>
				</div>

				<hr><br />
				<div class="sub-title">
				    <span>Oû ?</span>
				</div>

				{# Génération manuelle et éclatée : #}
				<div class="form-group">
					{# Génération du label. #}
					{{ form_label(form.latitude, "Latitude : ", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}

					{# Affichage des erreurs pour ce champ précis. #}
					{{ form_errors(form.latitude) }}

					<div class="col-sm-10">
						{# Génération de l'input. #}
						{{ form_widget(form.latitude, {
							'attr': {
								'class': 'form-control',
								'placeholder': 'Saisissez ici la latitude...',
							}}) 
						}}
					</div>
				</div>

				{# Idem pour un autre champ. #}
				<div class="form-group">
					{{ form_label(form.longitude, "Longitude : ", {'label_attr': {'class': 'col-sm-4 control-label'}}) }}
					{{ form_errors(form.longitude) }}

					<div class="col-sm-10">
						{{ form_widget(form.longitude, {
							'attr': {
								'class': 'form-control',
								'placeholder': 'Saisissez ici la longitude...',
							}}) 
						}}
					</div>
				</div>

				<hr><br />
				<div class="sub-title">
				    <span>Ajouter une photo ! </span>
				</div>


				{{ form_row(form.image) }}
				

				{# Pour le bouton, pas de label ni d'erreur, on affiche juste le widget #}
				{{ form_widget(form.save, {'label': 'Soumettre l\'observation', 'attr': {'class': 'btn btn-primary'}}) }}

				{# Génération automatique des champs pas encore écrits.
					Dans cet exemple, ce serait le champ CSRF (géré automatiquement par Symfony !)
					et tous les champs cachés (type « hidden »). #}
				{{ form_rest(form) }}

				{{ form_end(form) }}
			</div>

		   	<div class="col-sm-6" style="">
		    	<div id="map"></div>
		   	</div>
	    </div>
	</div>
	<br /><hr>
{% endblock %}
